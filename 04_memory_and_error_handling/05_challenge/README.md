# ãƒãƒ£ãƒ¬ãƒ³ã‚¸5

æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ã©ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã‹ã€‚å¿…è¦ã«å¿œã˜ã¦ã€cppreference.comã«ã‚ã‚‹ `std::vector` ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

```cpp
#include <iostream>
#include <vector>

int main() {
    std::vector<int> numbers;

    std::cout << "Initial size: " << numbers.size() << ", capacity: " << numbers.capacity() << std::endl;

    numbers.push_back(1);
    numbers.push_back(2);
    numbers.push_back(3);
    std::cout << "After adding elements: size: " << numbers.size() << ", capacity: " << numbers.capacity() << std::endl;

    numbers.reserve(10);
    std::cout << "After reserving space: size: " << numbers.size() << ", capacity: " << numbers.capacity() << std::endl;
}
```

## å›ç­”
### äº‹å‰äºˆæƒ³
```bash
Initial size: 0, capacity: 4
After adding elements: size:  3, capacity: 12
After reserving space: size:  3, capacity: 40
```
ä¸Šè¨˜ã®ç†ç”±ã¨ã—ã¦ã¯ã€`vector`ã«ä½•ã‚‚å…¥ã£ã¦ã„ãªã„ã¨ãã€ã‚µã‚¤ã‚ºã¯0ã§ã‚ã‚‹ãŒã€äºˆç´„ã—ã¦ã„ã‚‹ãƒ¡ãƒ¢ãƒªã®é‡ã¯intã®æœ€å°ã®æ•°4ãŒå…¥ã£ã¦ã„ã‚‹ã¨è€ƒãˆãŸã€‚ï¼“ã¤æ•°å­—ã‚’å…¥ã‚ŒãŸã®ã§`4*3`ã§12ã€‚
æœ€å¾Œã¯int 10å€‹åˆ†ã®ãƒ¡ãƒ¢ãƒªã®ç¯„å›²ã‚’reserveã—ãŸã®ã§`4*10`ã§40ã¨è€ƒãˆãŸã€‚


### å®Ÿè¡Œçµæœ
```bash
koki-ota@XH22100101-L:~/ws/src/cpp-01-ja/04_memory_and_error_handling/05_challenge$ ./main
Initial size: 0, capacity: 0
After adding elements: size: 3, capacity: 4
After reserving space: size: 3, capacity: 10
```
`capacity()`ã®æ¦‚è¦ãŒ`ãƒ¡ãƒ¢ãƒªã‚’å†ç¢ºä¿ã›ãšã«æ ¼ç´ã§ãã‚‹æœ€å¤§ã®è¦ç´ æ•°ã‚’å–å¾—ã™ã‚‹`ã§ã‚ã‚Šã€ãƒ¡ãƒ¢ãƒªã®å‰²å½“æ•°ã§ã¯ãªãè¦ç´ æ•°ã§ã‚ã£ãŸã®ã§ã€ã¯ã˜ã‚ã®çŠ¶æ…‹ã¨æœ€å¾Œã®çŠ¶æ…‹ã«ã¤ã„ã¦ã¯ç´å¾—ã—ãŸã€‚
ã—ã‹ã—ã€ï¼“ã¤ã®æ•°å­—ã‚’åŠ ãˆãŸã¨ãã«`capacity`ãŒ4æ‹…ã£ã¦ã„ã‚‹ç†ç”±ãŒè…‘ã«è½ã¡ãªã„ã€‚Wovey (ChatGPT)ã«ã‚ˆã‚‹ã¨ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã‚ã‚‹ã€‚
``````
æä¾›ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã§ã¯ã€ãƒ™ã‚¯ãƒˆãƒ« `numbers` ãŒæœ€åˆã«ç©ºã§åˆæœŸåŒ–ã•ã‚Œã¾ã™ã€‚ãã®å¾Œã€`push_back()` é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ `1`ã€`2`ã€`3` ã®3ã¤ã®è¦ç´ ãŒãƒ™ã‚¯ãƒˆãƒ«ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚

`size()` é–¢æ•°ã¯ã€ãƒ™ã‚¯ãƒˆãƒ«å†…ã®è¦ç´ ã®æ•°ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®å ´åˆã€è¦ç´ ã®æ•°ã¯ `3` ã§ã™ã€‚ä¸€æ–¹ã€`capacity()` é–¢æ•°ã¯ã€ãƒ™ã‚¯ãƒˆãƒ«ã®å†…éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºã‚’è¿”ã—ã¾ã™ã€‚ã“ã®ã‚µã‚¤ã‚ºã¯ãƒ™ã‚¯ãƒˆãƒ«å†…ã®è¦ç´ ã®æ•°ã¨ä¸€è‡´ã™ã‚‹ã‹ã©ã†ã‹ã¯ä¿è¨¼ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

ã“ã®å ´åˆã€`capacity()` é–¢æ•°ã¯ `4` ã‚’è¿”ã—ã¾ã™ã€‚

ã“ã‚Œã¯ã€C++ã®ãƒ™ã‚¯ãƒˆãƒ«ã¯å€‹åˆ¥ã§ã¯ãªãã€ãƒãƒ£ãƒ³ã‚¯ã”ã¨ã«ãƒ¡ãƒ¢ãƒªã‚’å‰²ã‚Šå½“ã¦ã‚‹ãŸã‚ã§ã™ã€‚è¦ç´ ãŒãƒ™ã‚¯ãƒˆãƒ«ã«è¿½åŠ ã•ã‚Œã‚‹ã¨ã€ãƒ™ã‚¯ãƒˆãƒ«ã¯å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸãƒ¡ãƒ¢ãƒªãƒãƒ£ãƒ³ã‚¯ã«ååˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚ååˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹å ´åˆã€è¦ç´ ã¯ç›´æ¥è¿½åŠ ã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€ååˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ãŒãªã„å ´åˆã€ãƒ™ã‚¯ãƒˆãƒ«ã¯æ–°ã—ã„ãƒ¡ãƒ¢ãƒªãƒãƒ£ãƒ³ã‚¯ã‚’å‰²ã‚Šå½“ã¦ã€ã™ã¹ã¦ã®è¦ç´ ã‚’æ–°ã—ã„ãƒãƒ£ãƒ³ã‚¯ã«ç§»å‹•ã—ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã€Œå†å‰²ã‚Šå½“ã¦ã€ã¾ãŸã¯ã€Œãƒªã‚µã‚¤ã‚ºã€ã¨å‘¼ã³ã¾ã™ã€‚

ã“ã®ç‰¹å®šã®å ´åˆã€ãƒ™ã‚¯ãƒˆãƒ«ã¯æœ€åˆã®çŠ¶æ…‹ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å®¹é‡ `0` ã‚’æŒã£ã¦ã„ã¾ã™ã€‚æœ€åˆã®è¦ç´ ãŒè¿½åŠ ã•ã‚Œã‚‹ã¨ã€ãƒ™ã‚¯ãƒˆãƒ«ã¯å®¹é‡ `1` ã®ãƒ¡ãƒ¢ãƒªãƒãƒ£ãƒ³ã‚¯ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚2ç•ªç›®ã®è¦ç´ ãŒè¿½åŠ ã•ã‚Œã‚‹ã¨ã€ãƒ™ã‚¯ãƒˆãƒ«ã¯ç¾åœ¨ã®ãƒ¡ãƒ¢ãƒªãƒãƒ£ãƒ³ã‚¯ã«ååˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚ååˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹ãŸã‚ã€è¦ç´ ã¯å†å‰²ã‚Šå½“ã¦ã›ãšã«ç›´æ¥è¿½åŠ ã•ã‚Œã¾ã™ã€‚åŒæ§˜ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒ3ç•ªç›®ã®è¦ç´ ã®è¿½åŠ æ™‚ã«ã‚‚è¡Œã‚ã‚Œã¾ã™ã€‚

ã—ã‹ã—ã€3ç•ªç›®ã®è¦ç´ ã‚’è¿½åŠ ã—ãŸå¾Œã€ãƒ™ã‚¯ãƒˆãƒ«ã®å®¹é‡ã¯ `3` ã§ã¯ãªã `4` ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ™ã‚¯ãƒˆãƒ«ãŒå°†æ¥ã®è¿½åŠ ã‚’äºˆæ¸¬ã—ã¦ã‚ˆã‚Šå¤§ããªãƒ¡ãƒ¢ãƒªãƒãƒ£ãƒ³ã‚¯ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã‚’æ±ºå®šã—ãŸãŸã‚ã§ã™ã€‚å®¹é‡ã®å¢—åŠ æˆ¦ç•¥ã¯ã€C++æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç•°ãªã‚‹å®Ÿè£…ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ãŒã€å®¹é‡ãŒ2å€ã¾ãŸã¯ä»–ã®äºˆã‚æ±ºã¾ã£ãŸé‡ã§å¢—åŠ ã™ã‚‹ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚

ã“ã®å ´åˆã€å®Ÿè£…ã¯å®¹é‡ã‚’ `4` ã«å¢—ã‚„ã™ã“ã¨ã‚’é¸æŠã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€ç¾åœ¨ã®è¦ç´ æ•° `3` ã‚ˆã‚Šã‚‚å¤§ãã„ã§ã™ã€‚ã¤ã¾ã‚Šã€ãƒ™ã‚¯ãƒˆãƒ«ã¯ãƒ¡ãƒ¢ãƒªã‚’å†å‰²ã‚Šå½“ã¦ã™ã‚‹ã“ã¨ãªãã€å°‘ãªãã¨ã‚‚1ã¤ã®è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®ååˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ã‚’ç¢ºä¿ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¦ç´ ãŒãƒ™ã‚¯ãƒˆãƒ«ã«è¿½åŠ ã•ã‚Œã‚‹éš›ã«å¿…è¦ãªå†å‰²ã‚Šå½“ã¦ã®å›æ•°ã‚’æ¸›ã‚‰ã™ã“ã¨ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã¾ã¨ã‚ã‚‹ã¨ã€ãƒ™ã‚¯ãƒˆãƒ«ã®å®¹é‡ãŒ `4` ã«ãªã£ã¦ã„ã‚‹ã®ã¯ã€å®Ÿè£…ãŒå°†æ¥ã®è¿½åŠ ã‚’äºˆæ¸¬ã—ã¦ã‚ˆã‚Šå¤§ããªãƒ¡ãƒ¢ãƒªãƒãƒ£ãƒ³ã‚¯ã‚’å‰²ã‚Šå½“ã¦ãŸãŸã‚ã§ã‚ã‚Šã€ç¾åœ¨ã®è¦ç´ æ•°ãŒ `3` ã§ã‚ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã§ã™ã€‚